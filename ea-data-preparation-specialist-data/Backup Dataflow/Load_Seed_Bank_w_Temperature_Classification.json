{"Add Temp Class":{"action":"computeExpression","parameters":{"source":"Define Temp Range","mergeWithSource":true,"computedFields":[{"name":"TempClass","saqlExpression":"case \nwhen lowTemp < 25 and highTemp < 25 then \"Polar\" \nwhen lowTemp >= 25 and lowTemp <= 50 and highTemp >= 25 and highTemp <= 50 then \"Cool\"\nwhen lowTemp >= 51 and lowTemp <= 85 and highTemp >= 51 and highTemp <= 85 then \"Continental\"\nwhen lowTemp > 85 and highTemp > 85 then \"Tropical\"\nwhen lowTemp < 25 and (highTemp >= 25 and highTemp <= 50) then \"Polar-Cool\" \nwhen lowTemp < 25 and (highTemp >= 25 and highTemp <= 85) then \"Polar-Cool-Continental\" \nwhen lowTemp < 25 and highTemp > 85 then \"Polar-Cool-Continental-Tropical\" \nwhen (lowTemp >= 25 and lowTemp <= 50) and (highTemp >= 51 and highTemp <= 85) then \"Cool-Continental\" \nwhen (lowTemp >= 25 and lowTemp <= 50) and highTemp >= 85 then \"Cool-Continental-Tropical\" \nwhen (lowTemp >= 51 and lowTemp <= 85) and highTemp > 85 then \"Continental-Tropical\" \nend","label":"TempClass","type":"Text"}]}},"Calculate Acreage":{"action":"computeExpression","parameters":{"source":"Load Seed Chart","mergeWithSource":true,"computedFields":[{"defaultValue":"0","precision":18,"name":"Acreage","saqlExpression":"(Seeds_Pound*Spacing)/6272640","scale":6,"label":"Acreage","type":"Numeric"}]}},"Create Seed Bank":{"action":"sfdcRegister","parameters":{"name":"Seed Bank Orders","alias":"seed_bank_orders","source":"CleanUp"}},"Load Seed Chart":{"action":"edgemart","parameters":{"alias":"Seed_Chart"}},"Augment Temp Class":{"action":"augment","parameters":{"right_key":["TempClass"],"left":"Load Temp Class Mapping","left_key":["TempKey"],"right_select":["Acreage","highTemp","Lifecycle","lowTemp","Quantity_Pounds","Seed","Seeds_Pound","Seed_ID","Seed_Type","Spacing","TempClass","Temperature"],"right":"Add Temp Class","relationship":"Climate","operation":"LookupSingleValue"}},"Load Temp Class Mapping":{"action":"edgemart","parameters":{"alias":"Temperature_Classes_Mapping"}},"CleanUp":{"action":"sliceDataset","parameters":{"mode":"drop","source":"Augment Temp Class","fields":[{"name":"TempClass"},{"name":"TempKey"},{"name":"Climate.highTemp"},{"name":"Climate.lowTemp"}]}},"Define Temp Range":{"action":"computeExpression","parameters":{"source":"Calculate Acreage","mergeWithSource":true,"computedFields":[{"defaultValue":"0","precision":18,"name":"lowTemp","saqlExpression":"string_to_number( substr(Temperature, 1, 2))","scale":2,"label":"lowTemp","type":"Numeric"},{"defaultValue":"0","precision":18,"name":"highTemp","saqlExpression":"string_to_number(substr(Temperature, -2, 2))","scale":2,"label":"highTemp","type":"Numeric"}]}}}